<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>새벽일기 달력 메인화면</title>

    <link rel="stylesheet" href="css/mainTwo.css">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/reset.css">
    <style>
      
    </style>
</head>

<body>
    <a id="top" href="#">
        <div class="topText">Top</div>
    </a>
    <div id="container">
        <div id="header">
            <a href="#c"><img class="headerImg1" src="img/titleLogo.svg" alt=""></a>
            <div class="year-month"></div>
            <a href="https://ducks1077.cafe24.com/setting/changePw.php"><img class="headerImg2" src="img/setting.svg" alt=""></a>
        </div>
        <div id="main1">
            <div class="box1"></div>
            <img src="img/papper.png" alt="">
            <table class="box__table">
                <thead>
                    <tr class="weeked">
                        <th>日<br>일</th>
                        <th>月<br>월</th>
                        <th>火<br>화</th>
                        <th>水<br>수</th>
                        <th>木<br>목</th>
                        <th>金<br>금</th>
                        <th>土<br>토</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>1
                            <em>음력8.25</em>
                        </td>
                        <td>2
                            <em>음력8.26</em>
                        </td>
                    </tr>
                    <tr>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                    </tr>
                    <tr>
                        <td>3
                            <em>음력8.27</em>
                        </td>
                        <td style="background-image: url(img/good.svg); background-repeat: no-repeat;">4
                            <em>음력8.28</em>
                        </td>
                        <td style="background-image: url(img/good.svg); background-repeat: no-repeat;">5
                            <em>음력8.29</em>
                        </td>
                        <td>6
                            <em>음력9.1</em>
                        </td>
                        <td>7
                            <em>음력9.2</em>
                        </td>
                        <td>8
                            <em>음력9.3</em>
                        </td>
                        <td>9
                            <em>음력9.4</em>
                        </td>
                    </tr>
                    <tr>
                        <td class="haha">개천절</td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha">한글날</td>
                    </tr>
                    <tr>
                        <td>10
                            <em>음력9.5</em>
                        </td>
                        <td>11
                            <em>음력9.6</em>
                        </td>
                        <td style="background-image: url(img/good.svg); background-repeat: no-repeat;">12
                            <em>음력9.7</em>
                        </td>
                        <td>13
                            <em>음력9.8</em>
                        </td>
                        <td>14
                            <em>음력9.9</em>
                        </td>
                        <td style="background-image: url(img/good.svg); background-repeat: no-repeat;">15
                            <em>음력9.10</em>
                        </td>
                        <td>16
                            <em>음력9.11</em>
                        </td>
                    </tr>
                    <tr>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                    </tr>
                    <tr>
                        <td>17
                            <em>음력9.12</em>
                        </td>
                        <td style="background-image: url(img/good.svg); background-repeat: no-repeat;">18
                            <em>음력9.13</em>
                        </td>
                        <td>19
                            <em>음력9.14</em>
                        </td>
                        <td style="background-image: url(img/good.svg); background-repeat: no-repeat;">20
                            <em>음력9.15</em>
                        </td>
                        <td>21
                            <em>음력9.16</em>
                        </td>
                        <td>22
                            <em>음력9.17</em>
                        </td>
                        <td style="background-image: url(img/good.svg); background-repeat: no-repeat;">23
                            <em>음력9.18</em>
                        </td>
                    </tr>
                    <tr>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                    </tr>
                    <tr>
                        <td>24
                            <em>음력9.19</em>
                        </td>
                        <td>25
                            <em>음력9.20</em>
                        </td>
                        <td style="background-image: url(img/good.svg); background-repeat: no-repeat;">26
                            <em>음력9.21</em>
                        </td>
                        <td>27
                            <em>음력9.22/em>
                        </td>
                        <td style="background-image: url(img/good.svg); background-repeat: no-repeat;">28
                            <em>음력9.23</em>
                        </td>
                        <td>29
                            <em>음력9.24</em>
                        </td>
                        <td>30
                            <em>음력9.25</em>
                        </td>
                    </tr>
                    <tr>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                        <td class="haha"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="main2">
            <div class="mainAp">
                <div class="btnAp1">
                    <p>기<br>록<br>장</p>
                </div>
                <button class="push">
                    <h1>새벽일기</h1>
                </button>
                <div class="btnAp2">
                    <p>달<br>력</p>
                </div>
            </div>
            <div class="recordWrap">
                <div class="recordAll">
                    <div class="record">
                        <div class="recordText">
                            <h3>기록</h3>
                            <ul>
                                <li>SK 부평 현장에서 30일까지 근무할 예정</li>
                                <li>현대 건설 현장에서 AViewer 사용문의에 대한 도면관리시스템을 문...</li>
                                <li>11월 강원도 원주 출장 예정</li>
                                <li>김반장에게 시멘트값 5만원 출금</li>
                                <li>SK 부평 현장 연장 될 수 있음</li>
                            </ul>
                        </div>
                        <div class="salary">
                            <div>
                                <h2>봉급</h2>
                                <img src="img/image 71.png" alt="">
                                <div class="salaryText1">
                                    <h3>주간</h3>
                                    <div class="div1"></div>
                                    <div class="div2"></div>
                                    <p>60,000<em>원</em></p>
                                </div>
                                <div class="salaryText2">
                                    <h3>월간</h3>
                                    <div class="div3"></div>
                                    <div class="div4"></div>
                                    <p>4,100,000<em>원</em></p>
                                </div>
                                <div class="salaryText3">
                                    <h3>연간</h3>
                                    <div class="div5"></div>
                                    <div class="div6"></div>
                                    <p>160,124,000<em>원</em></p>
                                </div>
                            </div>
                        </div>
                        <div class="dayWrap">
                            <div class="work">이번달은 총 <em>9</em> 일을 일하셨어요</div>
                            <div class="rest">이번달은 총 <em>9</em> 일을 쉬었어요</div>
                        </div>
                    </div>
                </div>
            </div>
            <div></div>
        </div>
    </div>
    <div id="arrow">
        <a href="mainTwoL.html">
            <img class="arrow__left" src="img/arrow2.png" alt="왼쪽 화살표">
        </a>
        <a href="mainTwoR.html">
            <img class="arrow__right" src="img/arrow1.png" alt="오른쪽 화살표">
        </a>
    </div>
    <footer id="footer">
        <div class="footerWrap">
            <div class="fLogo">
                <img src="img/footerLogo.svg" alt="로그인 페이지 이미지입니다.">
            </div>
            <div class="fLogoTitle">
                <ul>
                    <li>It's a calendar only for you</li>
                    <li>going to work at dawn.</li>
                    <li>I'll share my will with you.</li>
                </ul>
            </div>
            <div class="textZon">
                <ul>
                    <li><strong>공수 노트, 월급 계산기, 아르바이트 급여 계산기 @새벽시장</strong></li>
                    <li><strong>만든 프로그램 :</strong> 피그마, 포토샵, 일러스트, 자바스크립트, 제이쿼리, 리엑트, php</li>
                    <li><strong>만든 기간 :</strong> 2021.08.20 ~ </li>
                    <li><strong>만든 이 :</strong> 윤여찬, 허승연, 박세진, 전대섭, 인재연, 조범수, 송지원...</li>
                </ul>
            </div>
        </div>
    </footer>

    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="js/script.js"></script>
    <script>
        document.querySelector(".push").addEventListener("click", function () {
            document.querySelector(".recordWrap").classList.toggle("active");
        });

        let date = new Date();

        const renderCalender = () => {
            const viewYear = date.getFullYear();
            const viewMonth = date.getMonth();

            document.querySelector('.year-month').textContent = `${viewMonth + 1}`;

            const prevLast = new Date(viewYear, viewMonth, 0);
            const thisLast = new Date(viewYear, viewMonth + 1, 0);

            const PLDate = prevLast.getDate();
            const PLDay = prevLast.getDay();

            const TLDate = thisLast.getDate();
            const TLDay = thisLast.getDay();

            const prevDates = [];
            const thisDates = [...Array(TLDate + 1).keys()].slice(1);
            const nextDates = [];

            if (PLDay !== 6) {
                for (let i = 0; i < PLDay + 1; i++) {
                    prevDates.unshift(PLDate - i);
                }
            }

            for (let i = 1; i < 7 - TLDay; i++) {
                nextDates.push(i);
            }

            const dates = prevDates.concat(thisDates, nextDates);
            const firstDateIndex = dates.indexOf(1);
            const lastDateIndex = dates.lastIndexOf(TLDate);

            dates.forEach((date, i) => {
                const condition = i >= firstDateIndex && i < lastDateIndex + 1 ?
                    'this' :
                    'other';
                dates[i] = `<div class="date"><span class=${condition}>${date}</span></div>`;
            });

            document.querySelector('.dates').innerHTML = dates.join('');

            const today = new Date();
            if (viewMonth === today.getMonth() && viewYear === today.getFullYear()) {
                for (let date of document.querySelectorAll('.this')) {
                    if (+date.innerText === today.getDate()) {
                        date.classList.add('today');
                        break;
                    }
                }
            }
        };

        renderCalender();

        const prevMonth = () => {
            date.setMonth(date.getMonth() - 1);
            renderCalender();
        };

        const nextMonth = () => {
            date.setMonth(date.getMonth() + 1);
            renderCalender();
        };

        const goToday = () => {
            date = new Date();
            renderCalender();
        };
    </script>
</body>

</html>